var I=Object.defineProperty,b=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var _=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))V.call(t,r)&&_(e,r,t[r]);if(y)for(var r of y(t))g.call(t,r)&&_(e,r,t[r]);return e},T=(e,t)=>b(e,j(t));import{J as q,L,O as h,T as w,k as v,aE as O,r as E,o as n,l as m,w as D,aj as A,u as p,_ as F,C as R,e as P,f as S,F as x,y as k,j as B,I as C}from"./vendor.2f2e72ef.js";import{o as i,m as M}from"./main.d9e9868f.js";function Y(e){switch(e){case"./types/DateTimeType.vue":return i(()=>import("./DateTimeType.cf9b5a92.js"),["assets/DateTimeType.cf9b5a92.js","assets/vendor.2f2e72ef.js"]);case"./types/DateType.vue":return i(()=>import("./DateType.b638f397.js"),["assets/DateType.b638f397.js","assets/vendor.2f2e72ef.js"]);case"./types/DecimalType.vue":return i(()=>import("./DecimalType.fdd8188e.js"),["assets/DecimalType.fdd8188e.js","assets/vendor.2f2e72ef.js"]);case"./types/DropdownType.vue":return i(()=>import("./DropdownType.0cc754a2.js"),["assets/DropdownType.0cc754a2.js","assets/vendor.2f2e72ef.js"]);case"./types/HiddenType.vue":return i(()=>import("./HiddenType.a1b9f7f1.js"),["assets/HiddenType.a1b9f7f1.js","assets/vendor.2f2e72ef.js"]);case"./types/InputType.vue":return i(()=>import("./InputType.d708d928.js"),["assets/InputType.d708d928.js","assets/vendor.2f2e72ef.js"]);case"./types/MoneyType.vue":return i(()=>import("./MoneyType.5df1004e.js"),["assets/MoneyType.5df1004e.js","assets/vendor.2f2e72ef.js"]);case"./types/NumberType.vue":return i(()=>import("./NumberType.6dd18eca.js"),["assets/NumberType.6dd18eca.js","assets/vendor.2f2e72ef.js"]);case"./types/PhoneType.vue":return i(()=>import("./PhoneType.194d570d.js"),["assets/PhoneType.194d570d.js","assets/vendor.2f2e72ef.js"]);case"./types/SwitchType.vue":return i(()=>import("./SwitchType.4ebf668b.js"),["assets/SwitchType.4ebf668b.js","assets/vendor.2f2e72ef.js"]);case"./types/TextAreaType.vue":return i(()=>import("./TextAreaType.34ab2458.js"),["assets/TextAreaType.34ab2458.js","assets/vendor.2f2e72ef.js"]);case"./types/TimeType.vue":return i(()=>import("./TimeType.53269a0e.js"),["assets/TimeType.53269a0e.js","assets/vendor.2f2e72ef.js"]);case"./types/UrlType.vue":return i(()=>import("./UrlType.d78a6c54.js"),["assets/UrlType.d78a6c54.js","assets/vendor.2f2e72ef.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const $={props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const t=e,{t:r}=q(),d={value:{required:L.withMessage(r("validation.required"),h(t.field.is_required))}},a=w(d,v(()=>t.field),{$scope:t.customFieldScope}),o=v(()=>t.field.type?O(()=>Y(`./types/${t.field.type}Type.vue`)):!1);return(u,s)=>{const l=E("BaseInputGroup");return n(),m(l,{label:e.field.label,required:!!e.field.is_required,error:p(a).value.$error&&p(a).value.$errors[0].$message},{default:D(()=>[(n(),m(A(p(o)),{modelValue:e.field.value,"onUpdate:modelValue":s[0]||(s[0]=c=>e.field.value=c),options:e.field.options,invalid:p(a).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},H={key:0},J={props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0}},setup(e){const t=e,r=M();a();function d(){t.isEdit&&t.store[t.storeProp].fields.forEach(o=>{const u=t.store[t.storeProp].customFields.findIndex(s=>s.id===o.custom_field_id);if(u>-1){let s=o.default_answer;s&&o.custom_field.type==="DateTime"&&(s=C(o.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),t.store[t.storeProp].customFields[u]=T(f({},o),{id:o.custom_field_id,value:s,label:o.custom_field.label,options:o.custom_field.options,is_required:o.custom_field.is_required,placeholder:o.custom_field.placeholder,order:o.custom_field.order})}})}async function a(){let u=(await r.fetchCustomFields({type:t.type,limit:"all"})).data.data;u.map(s=>s.value=s.default_answer),t.store[t.storeProp].customFields=F.sortBy(u,s=>s.order),d()}return R(()=>t.store[t.storeProp].fields,o=>{d()}),(o,u)=>{const s=E("BaseInputGrid");return e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(n(),P("div",H,[S(s,{layout:e.gridLayout},{default:D(()=>[(n(!0),P(x,null,k(e.store[e.storeProp].customFields,(l,c)=>(n(),m($,{key:l.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:c,field:l},null,8,["custom-field-scope","store","store-prop","index","field"]))),128))]),_:1},8,["layout"])])):B("",!0)}}};export{J as _};
